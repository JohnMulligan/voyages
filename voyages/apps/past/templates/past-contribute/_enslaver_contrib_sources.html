{% load i18n %}

<div style="max-height: calc(100vh - 150px); overflow-x: clip; overflow-y: none;">
    <!-- For split contributions, the user needs to pick the identity to manage
    source references. -->
    <div class="row" v-if="interim.type === 'split'">
        <div class="col-md-6 form-inline">
            <label for="identities">{% trans "Identity:" %}</label>
            <select v-model="selectedIdentity" name="identities" class="form-control">
                <option v-for="identity in interim.identities" v-bind:value="identity">
                    [[identity.personal_data.principal_alias]]
                </option>
            </select>
        </div>
    </div>
    <div class="btn-group" role="group" aria-label="Sources actions">
        <button type="button" v-on:click="delSourceConn" v-bind:class="{ disabled: !selectedSource }"
            class="btn btn-danger">{% trans "Delete Source Reference" %}
        </button>
    </div>
    <select size="6" class="form-control enslaver_contrib_fullspan_control" multiple="false" id="sources-select" name="sources" v-model="selectedSource">
        <option class="list-group-item" v-for="source in selectedIdentity.sources" v-bind:value="[[ source.pk ]]">
            [[ source.text_ref ]] - [[ source.full_ref ]]
        </option>
    </select>
</div>